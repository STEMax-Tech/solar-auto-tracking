<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="q{OWZ6{gaMHUT|-/r!)E">light1</variable><variable id="7bBhO-#lNACSjBgj/9S?">light2</variable><variable id="w7pvr0z7;Gr[S+~XKh19">threshold</variable><variable id="!l)0#t*6CUkv!5H(kbV8">servoAngle</variable></variables><block type="pxt-on-start" id="e?Zz#NJyY)~*5[GtsFXW" x="20" y="20"><statement name="HANDLER"><block type="variables_set" id="uve[tAo4mk_r{:wf%qWp"><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field><comment pinned="false" h="80" w="160">Góc ban đầu của servo</comment><value name="VALUE"><shadow type="math_number" id="buKs=:F_p5|I#$/+$M-G"><field name="NUM">90</field></shadow></value><next><block type="variables_set" id="+)b;OROv|Tue0{-~4#Wa"><field name="VAR" id="w7pvr0z7;Gr[S+~XKh19">threshold</field><comment pinned="false" h="80" w="160">Ngưỡng chênh lệch ánh sáng để điều chỉnh</comment><value name="VALUE"><shadow type="math_number" id="~rf};tpLOHAA-h{O|w~W"><field name="NUM">1</field></shadow></value><next><block type="serial_setbaudrate" id="rE(7^mX^b.IqoDZ#6d#6"><field name="rate">BaudRate.BaudRate115200</field></block></next></block></next></block></statement></block><block type="device_forever" id="`=Xr=YC%lEDXN[u~[MdL" x="369" y="20"><statement name="HANDLER"><block type="controls_if" id="K3`AvdG{}@:zIB:nM*UC"><mutation elseif="2"></mutation><value name="IF0"><shadow type="logic_boolean" id="{%;?8Z$Laf6m,4XIdX~R"><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="1e7_#[yj#86Y~zmI@k/X"><field name="NAME">Button.AB</field></block></value><statement name="DO0"><block type="variables_set" id="lxf3aL]]9|1P=|t{)/ZO"><field name="VAR" id="q{OWZ6{gaMHUT|-/r!)E">light1</field><value name="VALUE"><shadow type="math_number" id="jfh,M_p3JG(Y@wI;C;J5"><field name="NUM">0</field></shadow></value><next><block type="variables_set" id="gjNTVdGzw*uNTv(cPij5"><field name="VAR" id="7bBhO-#lNACSjBgj/9S?">light2</field><value name="VALUE"><shadow type="math_number" id="L)Au@pGTo*]MxKu|6]u;"><field name="NUM">0</field></shadow></value></block></next></block></statement><value name="IF1"><shadow type="logic_boolean" id="XYt==i$m~IE=lDGZYB;e"><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="PFrLYi]jHC0S]C.BFo;h"><field name="NAME">Button.B</field></block></value><statement name="DO1"><block type="variables_change" id="#b3W(8B(7|@__3Q+@$AI"><field name="VAR" id="7bBhO-#lNACSjBgj/9S?">light2</field><value name="VALUE"><shadow type="math_number" id="0@kxrCw873cNnqD-[L!j"><field name="NUM">1</field></shadow></value></block></statement><value name="IF2"><shadow type="logic_boolean" id=";X5S]kJKhimgeElG.n=:"><field name="BOOL">TRUE</field></shadow><block type="device_get_button2" id="b]+(=5C`,6Tk2s=M)J!c"><field name="NAME">Button.A</field></block></value><statement name="DO2"><block type="variables_change" id="d+5?ACyHxkiW9Mnc{hQo"><field name="VAR" id="q{OWZ6{gaMHUT|-/r!)E">light1</field><value name="VALUE"><shadow type="math_number" id="3*~T+ZH]f93[:%?t#~6U"><field name="NUM">1</field></shadow></value></block></statement><next><block type="device_pause" id=":muxlW){;cv=%`z80|!M"><value name="pause"><shadow type="timePicker" id="Kh+$75^^=m{bl$[i)6]7"><field name="ms">100</field></shadow></value></block></next></block></statement></block><block type="device_forever" id="rew{1g4D3iA5VQi+U/FS" x="832" y="20"><comment pinned="false" h="80" w="160">Ngưỡng chênh lệch ánh sáng để điều chỉnh</comment><statement name="HANDLER"><block type="controls_if" id="ME;tf*{7TWHn_rvnch%x"><mutation elseif="1"></mutation><comment pinned="false" h="80" w="160">So sánh ánh sáng và điều chỉnh servo</comment><value name="IF0"><shadow type="logic_boolean" id="dqu1@}/ZGfNCWKAO1C,s"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Wh*h*M/q5`LMX;Eb?k8z"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="Kgn6$OOq}2Gpb9(i7mL/"><field name="NUM">0</field></shadow><block type="variables_get" id="FY1pmOO#.X5b*2{{-vy0"><field name="VAR" id="q{OWZ6{gaMHUT|-/r!)E">light1</field></block></value><value name="B"><shadow type="math_number" id="g3_e8uu|=dA~T#-N69R+"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="NxqF5(BmWoht7!YK40E@"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="[87uvmi,vigPWhb$_L=O"><field name="NUM">0</field></shadow><block type="variables_get" id="tVvZs0#cVva1HiA)~?v-"><field name="VAR" id="7bBhO-#lNACSjBgj/9S?">light2</field></block></value><value name="B"><shadow type="math_number" id="jLzRqq|wva(-2#(+fmzU"><field name="NUM">0</field></shadow><block type="variables_get" id="568g.rq=ieF3l{;0IZIf"><field name="VAR" id="w7pvr0z7;Gr[S+~XKh19">threshold</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_set" id="hK[n%_7qq%7x_#BCF$}q"><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field><comment pinned="false" h="80" w="160">Quay servo sang phải</comment><value name="VALUE"><shadow type="math_number" id="]~xc=w0;,H4d;1unC$ot"><field name="NUM">0</field></shadow><block type="math_op2" id="uS;v5Z=mFqoOEh/{aKLP"><field name="op">min</field><value name="x"><block type="math_arithmetic" id="%GjS9l~8m?s$]OyM?$z@"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="cTU~o5R0JAFSq*j=SBiE"><field name="NUM">0</field></shadow><block type="variables_get" id="cjWwvsUWJJ$*7Smr_5c!"><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field></block></value><value name="B"><shadow type="math_number" id="OW{zW4,+t+6ri[lkMlO!"><field name="NUM">1</field></shadow></value></block></value><value name="y"><shadow type="math_number" id="W?dVX8(!5d2NC}yjo%C/"><field name="NUM">140</field></shadow></value></block></value></block></statement><value name="IF1"><shadow type="logic_boolean" id="n$G=5_ls!5HS^l.M:B[r"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="B8+GqCSk`{od;RivcTv,"><field name="OP">GT</field><value name="A"><shadow type="math_number" id="E$:s{Op9WikM/cDoTo!e"><field name="NUM">0</field></shadow><block type="variables_get" id="M2+BH=h2);HqRuqXBE]K"><field name="VAR" id="7bBhO-#lNACSjBgj/9S?">light2</field></block></value><value name="B"><shadow type="math_number" id="{#DYr/Jj!XkMzmN~q2jq"><field name="NUM">0</field></shadow><block type="math_arithmetic" id="Zc1ZA@|g!D{?d#$N0IA9"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="WxfYR#7_Pl{T?Ut)wvey"><field name="NUM">0</field></shadow><block type="variables_get" id="]MCOr9A59gX@^hv^Xau+"><field name="VAR" id="q{OWZ6{gaMHUT|-/r!)E">light1</field></block></value><value name="B"><shadow type="math_number" id="|V?2^;!E^sLf@Z=uhsC`"><field name="NUM">0</field></shadow><block type="variables_get" id="%f7s=Ei/2/!+{@#}h`*R"><field name="VAR" id="w7pvr0z7;Gr[S+~XKh19">threshold</field></block></value></block></value></block></value><statement name="DO1"><block type="variables_set" id="kOA[|v|;eN%k,Mn4*(Y="><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field><comment pinned="false" h="80" w="160">Quay servo sang trái</comment><value name="VALUE"><shadow type="math_number" id="IYBsJ-%oAbuWYj49e3}V"><field name="NUM">0</field></shadow><block type="math_op2" id="+khNvSccUe8FmGnAFb)J"><field name="op">max</field><value name="x"><block type="math_arithmetic" id="VnR*To5U:iu$][G55_H("><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="AWRex9TC@/l]+1@/dGF$"><field name="NUM">0</field></shadow><block type="variables_get" id="B}0Y^0@+}r{YK{s7ZO`("><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field></block></value><value name="B"><shadow type="math_number" id="H_/R)xHTYi7Z(U0jyYWR"><field name="NUM">1</field></shadow></value></block></value><value name="y"><shadow type="math_number" id="Qocw_WNj)C}e#kF)Pk@p"><field name="NUM">35</field></shadow></value></block></value></block></statement><next><block type="device_set_servo_pin" id="BccMWL1P$,s18#vA7*Mf"><comment pinned="false" h="80" w="160">Điều chỉnh servo theo góc tính được</comment><value name="name"><shadow type="analog_pin_shadow" id="IHRL]O;lC[IWM1GD=[9s"><field name="pin">AnalogPin.P16</field></shadow></value><value name="value"><shadow type="math_number_minmax" id="zJ*tH:g!nF`Lh`.EuVBF"><mutation min="0" max="180" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="variables_get" id="G.{|ikE^KS~B}9e.Z%vT"><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field></block></value></block></next></block></statement></block><block type="device_forever" id="Z}z;GWYmWwARb0Wxor)+" x="20" y="561"><statement name="HANDLER"><block type="device_plot" id="K0;R07mAsPT1[y9Es2.#"><value name="x"><shadow type="math_number_minmax" id="(AxGSN;)f?khS6VAzD/:"><mutation min="0" max="4" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="device_random" id="d8f@/l*rZF3;Q,yTl#f]"><value name="min"><shadow type="math_number" id="weUalrbN7mv?T[!;JT}a"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="OybMTep%4ED=4#H;u9h;"><field name="NUM">4</field></shadow></value></block></value><value name="y"><shadow type="math_number_minmax" id="@{/Lw{3cMz%pX58pksxG"><mutation min="0" max="4" precision="0"></mutation><field name="SLIDER">0</field></shadow><block type="device_random" id="LBD0[!6(mL?QbFTs;a!*"><value name="min"><shadow type="math_number" id="~W8(gzla0n8tJrlM}D^7"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="2k.Q4Uqbf:Epnp7e`-3$"><field name="NUM">4</field></shadow></value></block></value><next><block type="serial_writenumbers" id="UG)hBig1aB_K0)U=*1[V"><value name="values"><block type="lists_create_with" id="k8dY1-63_fp~*}raRT0a"><mutation items="3" horizontalafter="3"></mutation><value name="ADD0"><block type="variables_get" id="84#$lg,x$|(D9S,pGOa|"><field name="VAR" id="q{OWZ6{gaMHUT|-/r!)E">light1</field></block></value><value name="ADD1"><block type="variables_get" id="N3CcE#ZwE=Vn}-^Hds4l"><field name="VAR" id="7bBhO-#lNACSjBgj/9S?">light2</field></block></value><value name="ADD2"><block type="variables_get" id="bDY_:PPC$3+hdh9^5fWF"><field name="VAR" id="!l)0#t*6CUkv!5H(kbV8">servoAngle</field></block></value></block></value><next><block type="device_pause" id="D02c3:3_Uy)IV!freCLG"><value name="pause"><shadow type="timePicker" id="/IyF-${Ip.v2DqR3SPh2"><field name="ms">100</field></shadow></value><next><block type="device_clear_display" id="bN0dYxPGCUF;.9TU^+r-"></block></next></block></next></block></next></block></statement></block></xml>